version: '3.4'
services:
  proxy:
    image: nginx:1.13
    volumes:
      - ./config/proxy:/etc/nginx/conf.d
    ports:
      - "443:443"
  cooluris:
    restart: "no"
  cooluris-proxy:
    restart: "no"    
  publicatie:
    restart: "no"
  editor:
    restart: "no"
  identifier:
    ports:
      - "80:80"
  database:
    restart: "no"
  virtuoso:
    ports:
      - "8890:8890"
    restart: "no"
  dispatcher:
    restart: "no"
  migrations:
    restart: "no"
  login:
    restart: "no"
  cache:
    restart: "no"
  sink:
    restart: "no"
  resource:
    restart: "no"
  notulenimporter:
    restart: "no"
  mocklogin:
    image: lblod/mock-login-service:0.4.0
  sync:
    image: semtech/mu-javascript-template:1.3.3
    environment:
      NODE_ENV: "development"
    links:
      - virtuoso:database #TODO replace with database when possible
    volumes:
      - /home/nielsv/Projects/lblod/gemeente-ocmw-sync-service:/app
